{"version":3,"file":"aggregate-exec.js","names":["mockProxy","require","module","exports","_ref","_asyncToGenerator","cb","modelName","_model","mock","__mocks","aggregate","err","Error","_x","apply","arguments"],"sources":["../../src/mocks/aggregate-exec.js"],"sourcesContent":["const mockProxy = require('../mock-proxy');\n\nmodule.exports = async function (cb) {\n  const {\n    _model: { modelName },\n  } = this;\n\n  let mock =\n    mockProxy.__mocks[modelName] && mockProxy.__mocks[modelName].aggregate;\n\n  let err = null;\n\n  if (mock instanceof Error) {\n    err = mock;\n  }\n\n  if (typeof mock === 'function') {\n    mock = await mock(this);\n  }\n\n  if (cb) {\n    return cb(err, mock);\n  }\n\n  if (err) {\n    throw err;\n  }\n\n  return mock;\n};\n"],"mappings":";;;;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,eAAe,CAAC;AAE1CC,MAAM,CAACC,OAAO;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAgBC,EAAE,EAAE;IACnC,MACYC,SAAS,GACjB,IAAI,CADNC,MAAM,CAAID,SAAS;IAGrB,IAAIE,IAAI,GACNT,SAAS,CAACU,OAAO,CAACH,SAAS,CAAC,IAAIP,SAAS,CAACU,OAAO,CAACH,SAAS,CAAC,CAACI,SAAS;IAExE,IAAIC,GAAG,GAAG,IAAI;IAEd,IAAIH,IAAI,YAAYI,KAAK,EAAE;MACzBD,GAAG,GAAGH,IAAI;IACZ;IAEA,IAAI,OAAOA,IAAI,KAAK,UAAU,EAAE;MAC9BA,IAAI,SAASA,IAAI,CAAC,IAAI,CAAC;IACzB;IAEA,IAAIH,EAAE,EAAE;MACN,OAAOA,EAAE,CAACM,GAAG,EAAEH,IAAI,CAAC;IACtB;IAEA,IAAIG,GAAG,EAAE;MACP,MAAMA,GAAG;IACX;IAEA,OAAOH,IAAI;EACb,CAAC;EAAA,iBAAAK,EAAA;IAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;EAAA;AAAA"}